@* @page "/" *@
@page "/LiveLogs"
@using BlazorResume.Codes
@implements IDisposable


@inject LogService LogService

<body class="bg-gray-100">
<header class="bg-white sticky top-0 z-50 shadow-md">
    <nav class="container mx-auto p-4 flex justify-between items-center rounded-b-lg">
            <h1 class="text-xl md:text-2xl font-bold text-gray-800">Live Logs</h1>
    </nav>
</header>

<button onclick="alert('Hello')">Click Me</button>

<button @onclick="@DummyClick">Test Click</button>
@* <button style="position: relative; z-index: 9999;" onclick="DummyClick">Test Click</button> *@

@code {
    void DummyClick()
    {
        Console.WriteLine("Clicked on Dummy");
        LogService.AddLog("Dummy click fired!");
        StateHasChanged(); // Force UI update
    }
}

<h3>Live Logs</h3>
<ul>
    @foreach (var log in LogService.Logs)
    {
        <li>@log</li>
    }
</ul>

<footer class="bg-white p-4 text-center text-gray-600 rounded-t-xl mt-8">
    <p>&copy; 2025 Micaiah Stevens. All rights reserved.</p>
</footer>

</body>

@code {
    protected override void OnInitialized()
    {
        LogService.OnLogAdded += Refresh;
    }

    private void Refresh() => InvokeAsync(StateHasChanged);

    public void Dispose()
    {
        LogService.OnLogAdded -= Refresh;
    }
}